{"file":"t-tooltip.entry.esm.js","mappings":";;;AAAA,MAAM,WAAW,GAAG,4pBAA4pB;;MCQnqB,QAAQ;;;oBAIM,KAAK;;IAI9B,WAAW;QACT,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC1B;IAED,iBAAiB;QACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC;YAC/B,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB,EAAE,+BAA+B,CAAC,CAAC;KACrC;IAED,iBAAiB;QACf,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KACnC;IAED,YAAY;QACV,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;KACnB;IAED,aAAa,CAAC,KAAoB;QAChC,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;YAC1B,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;KACF;IAED,gBAAgB;QACd,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;KAC5E;IAED,oBAAoB;QAClB,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;KAC/E;IAED,MAAM;QACJ,QACE,2EAAoB,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,MAAM,IAAI,CAAC,YAAY,EAAE,IAC/E,iFACmB,SAAS,EAC1B,EAAE,EAAC,QAAQ,EACX,MAAM,EAAE,MAAM,IAAI,CAAC,YAAY,EAAE,EACjC,OAAO,EAAE,MAAM,IAAI,CAAC,WAAW,EAAE,EACjC,YAAY,EAAE,MAAM,IAAI,CAAC,WAAW,EAAE,EACtC,YAAY,EAAE,MAAM,IAAI,CAAC,iBAAiB,EAAE,EAC5C,IAAI,EAAC,QAAQ,IAEb,6DAAM,IAAI,EAAC,SAAS,GAAG,CAClB,EACP,4DACE,EAAE,EAAC,SAAS,EACZ,IAAI,EAAC,SAAS,EACd,IAAI,EAAC,SAAS,EACd,YAAY,EAAE,MAAM,IAAI,CAAC,iBAAiB,EAAE,EAC5C,YAAY,EAAE,MAAM,IAAI,CAAC,iBAAiB,EAAE,IAE5C,6DAAM,IAAI,EAAC,SAAS,GAAE,CAClB,CACa,EACrB;KACH;;;;;;;","names":[],"sources":["src/components/t-tooltip/t-tooltip.css?tag=t-tooltip&encapsulation=shadow","src/components/t-tooltip/t-tooltip.tsx"],"sourcesContent":["#tooltip {\n  backdrop-filter: var(--t-popover-backdrop-filter);\n  background: var(--t-popover-background-colour-base);\n  border-radius: var(--t-popover-border-radius);\n  box-shadow:\n    color-mix(in oklab, var(--t-popover-background-colour-base) 85%, white) inset 0 1px,\n    color-mix(in oklab, var(--t-popover-background-colour-base) 85%, black) inset 0 -1px,\n    var(--t-popover-shadow);\n  color: var(--t-full-contrast-colour);\n  padding: var(--t-spacing-in-group);\n  width: max-content;\n  z-index: var(--t-z-index-tooltip);\n}\n\n#button {\n  background: none;\n  border: none;\n  color: var(--t-link-colour);\n  cursor: pointer;\n  font-family: var(--t-default-font-family);\n  font-size: var(--t-default-font-size);\n  margin: 0;\n  padding: 0;\n}\n","import { Component, h, Element, State } from '@stencil/core';\nimport { TOOLTIP_HIDE_DELAY_MILLISECONDS } from '../../constants';\n\n@Component({\n  tag: 't-tooltip',\n  styleUrl: 't-tooltip.css',\n  shadow: true,\n})\nexport class TTooltip {\n\n  @Element() element: HTMLElement;\n\n  @State() open: boolean = false;\n\n  private closeTimeoutId: ReturnType<typeof setTimeout>;\n\n  openTooltip() {\n    this.open = true;\n    this.clearCloseTimeout();\n  }\n\n  startCloseTimeout() {\n    this.clearCloseTimeout();\n    this.closeTimeoutId = setTimeout(() => {\n      this.closeTooltip();\n    }, TOOLTIP_HIDE_DELAY_MILLISECONDS);\n  }\n\n  clearCloseTimeout() {\n    clearTimeout(this.closeTimeoutId);\n  }\n\n  closeTooltip() {\n    this.open = false;\n  }\n\n  closeOnEscape(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      this.closeTooltip();\n    }\n  }\n\n  componentDidLoad() {\n    document.addEventListener('keydown', (event) => this.closeOnEscape(event));\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', (event) => this.closeOnEscape(event));\n  }\n\n  render() {\n    return (\n      <t-floating-element visible={this.open} onClickOutside={() => this.closeTooltip()}>\n        <span\n          aria-describedby=\"tooltip\"\n          id=\"button\"\n          onBlur={() => this.closeTooltip()}\n          onFocus={() => this.openTooltip()}\n          onMouseEnter={() => this.openTooltip()}\n          onMouseLeave={() => this.startCloseTimeout()}\n          slot=\"anchor\"\n        >\n          <slot name=\"trigger\" />\n        </span>\n        <div\n          id=\"tooltip\"\n          role=\"tooltip\"\n          slot=\"content\"\n          onMouseEnter={() => this.clearCloseTimeout()}\n          onMouseLeave={() => this.startCloseTimeout()}\n        >\n          <slot name=\"content\"/>\n        </div>\n      </t-floating-element>\n    );\n  }\n}\n"],"version":3}