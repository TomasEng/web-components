{"file":"preview-app.entry.esm.js","mappings":";;;MAOa,UAAU;;;QASrB,+BAA0B,GAAG,CAAC,EAAE,MAAM,EAA6C;YACjF,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC;YAC1B,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;YAChC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;YACxC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;SACjC,CAAC;uBAZiB,WAAW;0BACR,cAAc;4BACZ,sBAAsB;wBAC1B,CAAC;uBACF,MAAM,CAAC,QAAQ,CAAC,IAAI;mBACxB,IAAI,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;;IAS5C,iBAAiB;QACf,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE;YACpC,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB,CAAC,CAAC;QACH,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE;YAClC,IAAI,CAAC,MAAM,EAAE,CAAC;SACf,CAAC,CAAC;KACJ;IAED,UAAU;QACR,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;KACrC;IAED,MAAM;QACJ,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAC1C;IAED,MAAM;QACJ,MAAM,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,UAAU,CAAC;QACtE,MAAM,cAAc,GAAmB;YACrC,GAAG,EAAE,IAAI,CAAC,OAAO;YACjB,MAAM,EAAE,IAAI,CAAC,UAAU;YACvB,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB,CAAC;QACF,QACE,kEAAW,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,IACpF,mEACE,wEACE,IAAI,EAAC,QAAQ,EACb,SAAS,EAAC,yBAAyB,EACnC,QAAQ,EAAE;gBACR,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,eAAe,EAAE;gBACxD,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,GAAG,UAAU,EAAE,IAAI,EAAE,eAAe,EAAC;aAChE,GACD,EACD,eAAe,GAAG,kBAAY,IAAI,EAAC,MAAM,GAAG,IAC3C,uBACE,IAAI,EAAC,MAAM,EACX,cAAc,EAAE,cAAc,EAC9B,sBAAsB,EAAE,IAAI,CAAC,0BAA0B,GACvD,CACH,CACQ,CACD,EACZ;KACH;;;;;","names":[],"sources":["src/preview-app/preview-app.tsx"],"sourcesContent":["import { Component, h, JSX, State } from '@stencil/core';\r\nimport { ColourSettings, PageComponentsCustomEvent } from '../components';\r\nimport { DEFAULT_CHROMA, DEFAULT_HUE, DEFAULT_NUMBER_OF_HUES, PATH_ABOUT } from '../constants';\r\n\r\n@Component({\r\n  tag: 'preview-app',\r\n})\r\nexport class PreviewApp {\r\n\r\n  @State() baseHue = DEFAULT_HUE;\r\n  @State() baseChroma = DEFAULT_CHROMA;\r\n  @State() numberOfHues = DEFAULT_NUMBER_OF_HUES;\r\n  @State() contrast = 1;\r\n  @State() urlHash = window.location.hash;\r\n  @State() url = new URL(window.location.href);\r\n\r\n  handleColourSettingsChange = ({ detail }: PageComponentsCustomEvent<ColourSettings>) => {\r\n    this.baseHue = detail.hue;\r\n    this.baseChroma = detail.chroma;\r\n    this.numberOfHues = detail.numberOfHues;\r\n    this.contrast = detail.contrast;\r\n  };\r\n\r\n  connectedCallback() {\r\n    this.setUrlHash();\r\n    this.setUrl();\r\n    window.addEventListener('hashchange', () => {\r\n      this.setUrlHash();\r\n    });\r\n    window.addEventListener('popstate', () => {\r\n      this.setUrl();\r\n    });\r\n  }\r\n\r\n  setUrlHash() {\r\n    this.urlHash = window.location.hash;\r\n  }\r\n\r\n  setUrl() {\r\n    this.url = new URL(window.location.href);\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const isAboutPageOpen = this.url.searchParams.get('s') === PATH_ABOUT;\r\n    const colourSettings: ColourSettings = {\r\n      hue: this.baseHue,\r\n      chroma: this.baseChroma,\r\n      numberOfHues: this.numberOfHues,\r\n      contrast: this.contrast,\r\n    };\r\n    return (\r\n      <t-context baseHue={this.baseHue} baseChroma={this.baseChroma} contrast={this.contrast}>\r\n        <t-layout>\r\n          <t-layout-header\r\n            slot='header'\r\n            siteTitle=\"Tomas sitt designsystem\"\r\n            navItems={[\r\n              { label: 'Oversikt', href: '?', open: !isAboutPageOpen },\r\n              { label: 'Om', href: '?s=' + PATH_ABOUT, open: isAboutPageOpen},\r\n            ]}\r\n          />\r\n          {isAboutPageOpen ? <page-about slot='main' /> : (\r\n            <page-components\r\n              slot='main'\r\n              colourSettings={colourSettings}\r\n              onColourSettingsChange={this.handleColourSettingsChange}\r\n            />\r\n          )}\r\n        </t-layout>\r\n      </t-context>\r\n    );\r\n  }\r\n}\r\n"],"version":3}