{"version":3,"names":["tArticleCss","TArticleStyle0","TArticle","getSourceOrder","customElements","whenDefined","sourceRefElements","this","element","querySelectorAll","sourceIds","Promise","all","Array","from","map","sourceRefElement","getSourceId","uniqueItems","render","h","key","level","heading","sources","sourcesHeading","componentDidRender","then","sourceOrder","orderedSources","orderObject","sourceList","querySelector"],"sources":["src/components/t-article/t-article.css?tag=t-article","src/components/t-article/t-article.tsx"],"sourcesContent":[":host {\n  display: block;\n  color: var(--t-font-colour-default);\n}\n\np {\n  color: var(--t-font-colour-default);\n}\n","import { Component, Element, h, Method, Prop } from '@stencil/core';\nimport { TSourceItemList } from '../../types/TSourceItemList';\nimport { orderObject } from '../../utils/objectUtils';\nimport { uniqueItems } from '../../utils/arrayUtils';\n\n@Component({\n  tag: 't-article',\n  styleUrl: 't-article.css',\n})\nexport class TArticle {\n\n  @Prop() sources: TSourceItemList = {};\n  @Prop() sourcesHeading: string = 'Kilder';\n  @Prop() heading: string;\n\n  @Element() element: HTMLElement;\n\n  @Method() async getSourceOrder() {\n    await customElements.whenDefined('t-source-ref');\n    const sourceRefElements: NodeListOf<HTMLTSourceRefElement> = this.element.querySelectorAll('t-source-ref');\n    const sourceIds = await Promise.all(Array.from(sourceRefElements).map(sourceRefElement => {\n      return sourceRefElement.getSourceId();\n    }));\n    return uniqueItems(sourceIds);\n  }\n\n  render() {\n    return (\n      <article>\n        <t-heading level={1}>{this.heading}</t-heading>\n        <slot></slot>\n        {this.sources && (\n          <footer>\n            <t-heading level={2}>{this.sourcesHeading}</t-heading>\n            <t-source-list sources={{}} />\n          </footer>\n        )}\n      </article>\n    );\n  }\n\n  componentDidRender() {\n    this.getSourceOrder().then(sourceOrder => {\n      const orderedSources = orderObject(this.sources, sourceOrder);\n      const sourceList = this.element.querySelector('t-source-list');\n      if (sourceList) {\n        sourceList.sources = orderedSources;\n      }\n    });\n  }\n}\n"],"mappings":"qHAAA,MAAMA,EAAc,+FACpB,MAAAC,EAAeD,E,MCQFE,EAAQ,M,sCAEgB,G,oBACF,S,uBAKvB,oBAAMC,SACRC,eAAeC,YAAY,gBACjC,MAAMC,EAAuDC,KAAKC,QAAQC,iBAAiB,gBAC3F,MAAMC,QAAkBC,QAAQC,IAAIC,MAAMC,KAAKR,GAAmBS,KAAIC,GAC7DA,EAAiBC,iBAE1B,OAAOC,EAAYR,E,CAGrB,MAAAS,GACE,OACEC,EAAA,WAAAC,IAAA,4CACED,EAAA,aAAAC,IAAA,2CAAWC,MAAO,GAAIf,KAAKgB,SAC3BH,EAAA,QAAAC,IAAA,6CACCd,KAAKiB,SACJJ,EAAA,cACEA,EAAA,aAAWE,MAAO,GAAIf,KAAKkB,gBAC3BL,EAAA,iBAAeI,QAAS,M,CAOlC,kBAAAE,GACEnB,KAAKJ,iBAAiBwB,MAAKC,IACzB,MAAMC,EAAiBC,EAAYvB,KAAKiB,QAASI,GACjD,MAAMG,EAAaxB,KAAKC,QAAQwB,cAAc,iBAC9C,GAAID,EAAY,CACdA,EAAWP,QAAUK,C"}