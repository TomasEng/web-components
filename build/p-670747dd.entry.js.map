{"version":3,"names":["PreviewApp","this","handleColourSettingsChange","detail","baseHue","hue","baseChroma","chroma","numberOfHues","contrast","DEFAULT_HUE","DEFAULT_CHROMA","DEFAULT_NUMBER_OF_HUES","window","location","hash","URL","href","connectedCallback","setUrlHash","setUrl","addEventListener","urlHash","url","render","isAboutPageOpen","searchParams","get","PATH_ABOUT","colourSettings","h","key","slot","siteTitle","navItems","label","open","onColourSettingsChange"],"sources":["src/preview-app/preview-app.tsx"],"sourcesContent":["import { Component, h, JSX, State } from '@stencil/core';\r\nimport { ColourSettings, PageComponentsCustomEvent } from '../components';\r\nimport { DEFAULT_CHROMA, DEFAULT_HUE, DEFAULT_NUMBER_OF_HUES, PATH_ABOUT } from '../constants';\r\n\r\n@Component({\r\n  tag: 'preview-app',\r\n})\r\nexport class PreviewApp {\r\n\r\n  @State() baseHue = DEFAULT_HUE;\r\n  @State() baseChroma = DEFAULT_CHROMA;\r\n  @State() numberOfHues = DEFAULT_NUMBER_OF_HUES;\r\n  @State() contrast = 1;\r\n  @State() urlHash = window.location.hash;\r\n  @State() url = new URL(window.location.href);\r\n\r\n  handleColourSettingsChange = ({ detail }: PageComponentsCustomEvent<ColourSettings>) => {\r\n    this.baseHue = detail.hue;\r\n    this.baseChroma = detail.chroma;\r\n    this.numberOfHues = detail.numberOfHues;\r\n    this.contrast = detail.contrast;\r\n  };\r\n\r\n  connectedCallback() {\r\n    this.setUrlHash();\r\n    this.setUrl();\r\n    window.addEventListener('hashchange', () => {\r\n      this.setUrlHash();\r\n    });\r\n    window.addEventListener('popstate', () => {\r\n      this.setUrl();\r\n    });\r\n  }\r\n\r\n  setUrlHash() {\r\n    this.urlHash = window.location.hash;\r\n  }\r\n\r\n  setUrl() {\r\n    this.url = new URL(window.location.href);\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const isAboutPageOpen = this.url.searchParams.get('s') === PATH_ABOUT;\r\n    const colourSettings: ColourSettings = {\r\n      hue: this.baseHue,\r\n      chroma: this.baseChroma,\r\n      numberOfHues: this.numberOfHues,\r\n      contrast: this.contrast,\r\n    };\r\n    return (\r\n      <t-context baseHue={this.baseHue} baseChroma={this.baseChroma} contrast={this.contrast}>\r\n        <t-layout>\r\n          <t-layout-header\r\n            slot='header'\r\n            siteTitle=\"Tomas sitt designsystem\"\r\n            navItems={[\r\n              { label: 'Oversikt', href: '?', open: !isAboutPageOpen },\r\n              { label: 'Om', href: '?s=' + PATH_ABOUT, open: isAboutPageOpen},\r\n            ]}\r\n          />\r\n          {isAboutPageOpen ? <page-about slot='main' /> : (\r\n            <page-components\r\n              slot='main'\r\n              colourSettings={colourSettings}\r\n              onColourSettingsChange={this.handleColourSettingsChange}\r\n            />\r\n          )}\r\n        </t-layout>\r\n      </t-context>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"0GAOaA,EAAU,M,yBASrBC,KAAAC,2BAA6B,EAAGC,aAC9BF,KAAKG,QAAUD,EAAOE,IACtBJ,KAAKK,WAAaH,EAAOI,OACzBN,KAAKO,aAAeL,EAAOK,aAC3BP,KAAKQ,SAAWN,EAAOM,QAAQ,E,aAXdC,E,gBACGC,E,kBACEC,E,cACJ,E,aACDC,OAAOC,SAASC,K,SACpB,IAAIC,IAAIH,OAAOC,SAASG,K,CASvC,iBAAAC,GACEjB,KAAKkB,aACLlB,KAAKmB,SACLP,OAAOQ,iBAAiB,cAAc,KACpCpB,KAAKkB,YAAY,IAEnBN,OAAOQ,iBAAiB,YAAY,KAClCpB,KAAKmB,QAAQ,G,CAIjB,UAAAD,GACElB,KAAKqB,QAAUT,OAAOC,SAASC,I,CAGjC,MAAAK,GACEnB,KAAKsB,IAAM,IAAIP,IAAIH,OAAOC,SAASG,K,CAGrC,MAAAO,GACE,MAAMC,EAAkBxB,KAAKsB,IAAIG,aAAaC,IAAI,OAASC,EAC3D,MAAMC,EAAiC,CACrCxB,IAAKJ,KAAKG,QACVG,OAAQN,KAAKK,WACbE,aAAcP,KAAKO,aACnBC,SAAUR,KAAKQ,UAEjB,OACEqB,EAAA,aAAAC,IAAA,2CAAW3B,QAASH,KAAKG,QAASE,WAAYL,KAAKK,WAAYG,SAAUR,KAAKQ,UAC5EqB,EAAA,YAAAC,IAAA,4CACED,EAAA,mBAAAC,IAAA,2CACEC,KAAK,SACLC,UAAU,0BACVC,SAAU,CACR,CAAEC,MAAO,WAAYlB,KAAM,IAAKmB,MAAOX,GACvC,CAAEU,MAAO,KAAMlB,KAAM,MAAQW,EAAYQ,KAAMX,MAGlDA,EAAkBK,EAAA,cAAYE,KAAK,SAClCF,EAAA,mBACEE,KAAK,OACLH,eAAgBA,EAChBQ,uBAAwBpC,KAAKC,8B"}