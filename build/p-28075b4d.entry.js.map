{"version":3,"names":["tTooltipCss","TTooltipStyle0","TTooltip","openTooltip","this","open","clearCloseTimeout","startCloseTimeout","closeTimeoutId","setTimeout","closeTooltip","TOOLTIP_HIDE_DELAY_MILLISECONDS","clearTimeout","closeOnEscape","event","key","componentDidLoad","document","addEventListener","disconnectedCallback","removeEventListener","render","h","visible","onClickOutside","id","onBlur","onFocus","onMouseEnter","onMouseLeave","slot","name","role"],"sources":["src/components/t-tooltip/t-tooltip.css?tag=t-tooltip&encapsulation=shadow","src/components/t-tooltip/t-tooltip.tsx"],"sourcesContent":["#tooltip {\n  backdrop-filter: var(--t-popover-backdrop-filter);\n  background: var(--t-popover-background-colour-base);\n  border-radius: var(--t-popover-border-radius);\n  box-shadow:\n    color-mix(in oklab, var(--t-popover-background-colour-base) 85%, white) inset 0 1px,\n    color-mix(in oklab, var(--t-popover-background-colour-base) 85%, black) inset 0 -1px,\n    var(--t-popover-shadow);\n  color: var(--t-full-contrast-colour);\n  padding: var(--t-spacing-in-group);\n  width: max-content;\n  z-index: var(--t-z-index-tooltip);\n}\n\n#button {\n  background: none;\n  border: none;\n  color: var(--t-link-colour);\n  cursor: pointer;\n  font-family: var(--t-default-font-family);\n  font-size: var(--t-default-font-size);\n  margin: 0;\n  padding: 0;\n}\n","import { Component, h, Element, State } from '@stencil/core';\nimport { TOOLTIP_HIDE_DELAY_MILLISECONDS } from '../../constants';\n\n@Component({\n  tag: 't-tooltip',\n  styleUrl: 't-tooltip.css',\n  shadow: true,\n})\nexport class TTooltip {\n\n  @Element() element: HTMLElement;\n\n  @State() open: boolean = false;\n\n  private closeTimeoutId: ReturnType<typeof setTimeout>;\n\n  openTooltip() {\n    this.open = true;\n    this.clearCloseTimeout();\n  }\n\n  startCloseTimeout() {\n    this.clearCloseTimeout();\n    this.closeTimeoutId = setTimeout(() => {\n      this.closeTooltip();\n    }, TOOLTIP_HIDE_DELAY_MILLISECONDS);\n  }\n\n  clearCloseTimeout() {\n    clearTimeout(this.closeTimeoutId);\n  }\n\n  closeTooltip() {\n    this.open = false;\n  }\n\n  closeOnEscape(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      this.closeTooltip();\n    }\n  }\n\n  componentDidLoad() {\n    document.addEventListener('keydown', (event) => this.closeOnEscape(event));\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', (event) => this.closeOnEscape(event));\n  }\n\n  render() {\n    return (\n      <t-floating-element visible={this.open} onClickOutside={() => this.closeTooltip()}>\n        <span\n          aria-describedby=\"tooltip\"\n          id=\"button\"\n          onBlur={() => this.closeTooltip()}\n          onFocus={() => this.openTooltip()}\n          onMouseEnter={() => this.openTooltip()}\n          onMouseLeave={() => this.startCloseTimeout()}\n          slot=\"anchor\"\n        >\n          <slot name=\"trigger\" />\n        </span>\n        <div\n          id=\"tooltip\"\n          role=\"tooltip\"\n          slot=\"content\"\n          onMouseEnter={() => this.clearCloseTimeout()}\n          onMouseLeave={() => this.startCloseTimeout()}\n        >\n          <slot name=\"content\"/>\n        </div>\n      </t-floating-element>\n    );\n  }\n}\n"],"mappings":"sFAAA,MAAMA,EAAc,6pBACpB,MAAAC,EAAeD,E,MCOFE,EAAQ,M,mCAIM,K,CAIzB,WAAAC,GACEC,KAAKC,KAAO,KACZD,KAAKE,mB,CAGP,iBAAAC,GACEH,KAAKE,oBACLF,KAAKI,eAAiBC,YAAW,KAC/BL,KAAKM,cAAc,GAClBC,E,CAGL,iBAAAL,GACEM,aAAaR,KAAKI,e,CAGpB,YAAAE,GACEN,KAAKC,KAAO,K,CAGd,aAAAQ,CAAcC,GACZ,GAAIA,EAAMC,MAAQ,SAAU,CAC1BX,KAAKM,c,EAIT,gBAAAM,GACEC,SAASC,iBAAiB,WAAYJ,GAAUV,KAAKS,cAAcC,I,CAGrE,oBAAAK,GACEF,SAASG,oBAAoB,WAAYN,GAAUV,KAAKS,cAAcC,I,CAGxE,MAAAO,GACE,OACEC,EAAA,sBAAAP,IAAA,2CAAoBQ,QAASnB,KAAKC,KAAMmB,eAAgB,IAAMpB,KAAKM,gBACjEY,EAAA,QAAAP,IAAA,8DACmB,UACjBU,GAAG,SACHC,OAAQ,IAAMtB,KAAKM,eACnBiB,QAAS,IAAMvB,KAAKD,cACpByB,aAAc,IAAMxB,KAAKD,cACzB0B,aAAc,IAAMzB,KAAKG,oBACzBuB,KAAK,UAELR,EAAA,QAAAP,IAAA,2CAAMgB,KAAK,aAEbT,EAAA,OAAAP,IAAA,2CACEU,GAAG,UACHO,KAAK,UACLF,KAAK,UACLF,aAAc,IAAMxB,KAAKE,oBACzBuB,aAAc,IAAMzB,KAAKG,qBAEzBe,EAAA,QAAAP,IAAA,2CAAMgB,KAAK,a"}